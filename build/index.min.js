(function(){var t={}.hasOwnProperty;Object.Uri=function(){function s(t){this.setParams(t)}var i,e;return i=decodeURIComponent,e=encodeURIComponent,s.prototype.setParams=function(t){return this.params={},this.updateParams(t)},s.prototype.updateParams=function(s){var i,e;if(s)for(i in s)t.call(s,i)&&(e=s[i],this.params[i]=e);return this},s.prototype.toString=function(){var s,i,n,r,a;i=(this.host?this.type?this.type+"://"+this.host+"/":"//"+this.host+"/":"")+this.path.join("/"),r="?",n=this.params;for(s in n)t.call(n,s)&&(a=n[s],i+=r+s+"="+e(a),"?"===r&&(r="&"));return this.hash&&(i+="#"+this.hash),i},s.instanceOf=function(t){return t&&t.constructor===s},s.parse=function(t,e){var n,r,a,h,o,p,c;if(o=new s(e),!t)return o;if(this.instanceOf(t))return o.type=t.type,o.host=t.host,o.path=t.path,o.updateParams(t.params),o.hash=t.hash,o;if("string"!=typeof t&&(t=""+t),(a=t.indexOf("://"))>-1&&(o.type=t.slice(0,+(a-1)+1||9e9),t=t.slice(a+1)),(a=t.indexOf("#"))>-1&&(o.hash=t.slice(a+1),t=t.slice(0,+(a-1)+1||9e9)),(a=t.indexOf("?"))>-1&&(h=t.slice(a+1),t=t.slice(0,+(a-1)+1||9e9),h))for(p=h.split("&"),n=0,r=p.length;r>n;n++)c=p[n],(a=c.split("=")).length>1&&(o.params[a[0]]=i(a[1]));return a=t.split("/"),""===a[0]&&(a.shift(),""===a[0]&&a.shift()),o.host=a.shift(),o.path=a,o},s}()}).call(this);